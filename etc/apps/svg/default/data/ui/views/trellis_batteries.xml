<dashboard>
  <label>Trellis Batteries</label>
  <description>SVG examples within trellis layout</description>
  <search id="base_query">
     <query>| makeresults count=6
| streamstats count 
| eval name = CASE (count==1, "AA", count==2, "AAA", count==3, "B", count==4, "C", count==5, "D", count==6, "No. 6")
| eval power = random()%100
| stats sum(power) as total_power by name
| fields name, total_power
     </query>
          <earliest>-1m</earliest>
          <latest>now</latest>
   </search>
  <row>
    <panel>
      <title>Bars with small trellis size</title>
      <viz type="svg.svg">
        <search base="base_query">
          <query>
| eval bars = case ( total_power > 80, 5, total_power > 60, 4, total_power > 40, 3, total_power > 20, 2, total_power > 0, 1, 1==1, 0 )
| `svg_viz_battery_bars_simple(bars)`</query>
        </search>
        <option name="height">140</option>
        <option name="drilldown">none</option>
        <option name="trellis.enabled">1</option>
        <option name="trellis.scales.shared">1</option>
        <option name="trellis.size">small</option>
      </viz>
    </panel>
  </row>
  <row>
    <panel>
      <title>Percentages with medium trellis size</title>
      <viz type="svg.svg">
        <search base="base_query">
          <query>
| `svg_viz_battery_percentage_simple(total_power)`</query>
        </search>
        <option name="drilldown">none</option>
        <option name="height">440</option>
        <option name="svg.svg.debug">false</option>
        <option name="svg.svg.error_message_delay_in_seconds">0</option>
        <option name="svg.svg.viewbox_height">100</option>
        <option name="svg.svg.viewbox_min_x">0</option>
        <option name="svg.svg.viewbox_min_y">0</option>
        <option name="svg.svg.viewbox_width">100</option>
        <option name="trellis.enabled">1</option>
        <option name="trellis.scales.shared">1</option>
        <option name="trellis.size">medium</option>
      </viz>
    </panel>
  </row>
</dashboard>