<form>
  <label>Tokens</label>
  <description>Passing tokens into SVG visualization</description>
  <fieldset submitButton="false" autoRun="true">
    <input type="dropdown" token="circle_colour">
      <label>Circle Color</label>
      <choice value="red">Red</choice>
      <choice value="green">Green</choice>
      <choice value="blue">Blue</choice>
      <default>green</default>
      <initialValue>green</initialValue>
    </input>
    <input type="dropdown" token="bar_count">
      <label>Battery Bar Count</label>
      <choice value="0">0</choice>
      <choice value="1">1</choice>
      <choice value="2">2</choice>
      <choice value="3">3</choice>
      <choice value="4">4</choice>
      <choice value="5">5</choice>
      <default>3</default>
      <initialValue>3</initialValue>
    </input>
  </fieldset>
  <row>
    <panel>
      <title>Using query</title>
      <viz type="svg.svg">
        <search>
          <query>
 <![CDATA[
| makeresults 
| eval svg_viz_colour = "$circle_colour$"
| eval svg_viz = "<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" width=\"100\" height=\"100\">
 <circle cx=\"50\" cy=\"50\" r=\"40\" style=\"fill: ".svg_viz_colour.";\"></circle>
 </svg>"
 ]]>
           </query>
          <earliest>-1m</earliest>
          <latest>now</latest>
          <sampleRatio>1</sampleRatio>
        </search>
        <option name="drilldown">none</option>
      </viz>
    </panel>
    <panel>
      <title>Using macro in query</title>
      <viz type="svg.svg">
        <search>
          <query>| makeresults 
 | eval svg_viz_bar_count = $bar_count$
 | `svg_viz_battery_bars_simple(svg_viz_bar_count)`</query>
          <earliest>-1m</earliest>
          <latest>now</latest>
          <sampleRatio>1</sampleRatio>
          </search>
        <option name="drilldown">none</option>
      </viz>
    </panel>
  </row>
</form>