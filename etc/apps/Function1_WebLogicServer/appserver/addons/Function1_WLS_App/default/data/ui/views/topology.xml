<view autoCancelInterval="90" isVisible="true" objectMode="SimpleDashboard" onunloadCancelJobs="true" refresh="3600" template="dashboard.html">
<label>Topology</label>
	<module name="SideviewUtils" layoutPanel="appHeader" />  
	<module name="AccountBar" layoutPanel="appHeader"/>
	<module name="AppBar" layoutPanel="navigationHeader"/>
	<module name="Message" layoutPanel="messaging">
	<param name="filter">*</param>
	<param name="clearOnJobDispatch">False</param>
	<param name="maxSize">1</param>
	</module>
	<module name="DashboardTitleBar" layoutPanel="viewHeader"/>
	<module name="Message" layoutPanel="navigationHeader">
	<param name="filter">splunk.search.job</param>
	<param name="clearOnJobDispatch">True</param>
	<param name="maxSize">1</param>
	<param name="level">warn</param>
	</module>
	
	<module name="Search" layoutPanel="panel_row1_col1" autoRun="True">
		<!-- <param name="useHistory">true</param>  -->
		<param name="search">| inputlookup domains.csv</param>    
		<module name="HTML">
		<param name="html"><![CDATA[
		<h4>The dropdown below shows all the WebLogic domains that Splunk currently has collected information on. Please choose a domain from the list to populate the rest of the dashboard.</h3>
		]]></param>
		</module>
		
		<module name="Pulldown">
			<param name="name">domain</param>
			<param name="label">Domain</param>
			<param name="staticOptions">
				<list>
					<param name="label">Select One...</param>
					<param name="value">n/a</param>
				</list>
				<list>
					<param name="label">All</param>
					<param name="value">*</param>
				</list>
			</param>
			<param name="valueField">$name$</param>
			
			
			<module name="Search"> <!-- Search - Machines in Domain --> 
				<param name="search">`index_wls` domain=$domain$ host=* | dedup host | rename host as "Machine Name" | table "Machine Name"</param>
				<param name="earliest">-1d</param>
				<param name="latest">now</param>
				<module name="Pager" layoutPanel="panel_row2_col1">
					<module name="SimpleResultsTable" layoutPanel="panel_row2_col1" group="Machines in Domain">
						<param name="displayRowNumbers">False</param>
						<param name="entityName">results</param>
						<param name="drilldown">row</param>          
						<module name="Redirector">
			  				<param name="url">machines</param>
			  				<param name="arg.domain">$domain$</param>
			  				<param name="arg.machine">$click.fields.Machine Name$</param>
						</module>
					</module>
				</module>
			</module> <!-- Search - Machines in Domain -->
			
			<module name="Search">
				<param name="search">`index_wls` server=* server_state=* domain=$domain$ | rename server as "Server Name" | rename host as "Machine Name" | stats first(server_state) as State by "Server Name" "Machine Name"</param>
				<param name="earliest">-1d</param>
				<param name="latest">now</param>
				<module name="Pager" layoutPanel="panel_row2_col2">
					<module name="SimpleResultsTable" layoutPanel="panel_row2_col2" group="Servers in Domain">
						<param name="displayRowNumbers">False</param>
						<param name="entityName">results</param>
						<param name="drilldown">row</param>          
						<module name="Redirector">
				  			<param name="url">server_overview</param>
				  			<param name="arg.server">$click.fields.Server Name$</param>
				  			<param name="arg.domain">$domain$</param>
				  			<param name="arg.machine">$click.fields.Machine Name$</param>
						</module>
					</module>
				</module>
			</module>
			
			<module name="Search">
				<param name="search">`index_wls` domain=$domain$ app=* | dedup app | eval "Application Name" = app | table "Application Name"</param>
				<param name="earliest">-1d</param>
				<param name="latest">now</param>
				<module name="Pager" layoutPanel="panel_row2_col3">
					<module name="SimpleResultsTable" layoutPanel="panel_row2_col3" group="Applications in Domain" >
						<param name="displayRowNumbers">False</param>
						<param name="entityName">results</param>
						<param name="drilldown">row</param>
						<module name="Redirector">
			  				<param name="url">applications</param>
			  				<param name="arg.domain">$domain$</param>
			  				<param name="arg.app">$click.fields.Application Name$</param>
						</module>
					</module>
				</module>
			</module>
			
			<module name="Search" layoutPanel="panel_row3_col1">
				<param name="search">`index_wls` domain=$domain$ jms_server=* | stats first(jms_current_messages_count) as "Current Messages" first(jms_pending_messages_count) as "Pending Messages"  by jms_server | rename jms_server as "JMS Server"</param>
				<param name="earliest">-1d</param>
				<param name="latest">now</param>
				<module name="Pager">
					<module name="SimpleResultsTable" layoutPanel="panel_row3_col1" group="JMS Servers in Domain" >
						<param name="displayRowNumbers">False</param>
						<param name="entityName">results</param>
					</module>
				</module>
			</module>
			
			<module name="Search">
				<param name="search">`index_wls` domain=$domain$ jdbc_datasource_name=* | rename jdbc_datasource_name as "Data Source Name" | stats first(jdbc_active_connection_count) as "Active Connections" by "Data Source Name"</param>
				<param name="earliest">-1d</param>
				<param name="latest">now</param>
				<module name="Pager" layoutPanel="panel_row3_col2">
					<module name="SimpleResultsTable" layoutPanel="panel_row3_col2" group="JDBC Data Sources in Domain" >
						<param name="displayRowNumbers">False</param>
						<param name="entityName">results</param>
					</module>
				</module>
			</module>
			
		</module> <!-- Pulldown - Machine --> 
	</module> <!-- Search - Outermost --> 
</view>