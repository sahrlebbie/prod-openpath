<view autoCancelInterval="90" isVisible="true" objectMode="SimpleDashboard" onunloadCancelJobs="true" refresh="3600" template="dashboard.html">
  	<label>Applications</label>
  	<module name="SideviewUtils" layoutPanel="appHeader" />  
  	<module name="AccountBar" layoutPanel="appHeader"/>
  	<module name="AppBar" layoutPanel="navigationHeader"/>
  	<module name="Message" layoutPanel="messaging">
  	  <param name="filter">*</param>
  	  <param name="clearOnJobDispatch">False</param>
  	  <param name="maxSize">1</param>
  	</module>
  	<module name="DashboardTitleBar" layoutPanel="viewHeader"/>
  	<module name="Message" layoutPanel="navigationHeader">
  	  <param name="filter">splunk.search.job</param>
  	  <param name="clearOnJobDispatch">True</param>
  	  <param name="maxSize">1</param>
  	  <param name="level">warn</param>
  	</module>
  
  	<module name="URLLoader" layoutPanel="viewHeader" autoRun="True">  
  
  		<module name="Search" layoutPanel="panel_row1_col1" autoRun="True">
  			<!-- 
  			<param name="useHistory">true</param>  -->
      		<param name="search">|inputlookup apps.csv</param>    
    
    		<module name="HTML">
       			<param name="html"><![CDATA[
          		<h3>The dropdown below shows all the WebLogic applications that Splunk currently has collected information on. Please choose an application from the list to populate the rest of the dashboard.</h3>
       		 	]]></param>
    		</module>

    		<module name="Pulldown">
      			<param name="name">app</param>
      			<param name="label">Application</param>
      			<param name="staticOptions">
        			<list>
         	 			<param name="label">Select One...</param>
          				<param name="value">n/a</param>
        			</list>
      			</param>
      			<param name="valueField">$name$</param>
         
				<!-- START Panels -->
	  			<module name="Search">  
        			<param name="search">index=wls app=$app$ earliest=-1d@d  app_state=* | stats first(app_state) as State | eval status=if(State="STATE_ACTIVE",5,0) 
        				| rangemap field=status red=0-1 green=2-5 | eval active=if(status=5,"Active","Down")
        			</param>
        			<param name="earliest">-24h</param>
        			<param name="latest">now</param>
        
        			<module name="Pager" layoutPanel="panel_row2_col1">
         				<module name="SingleValue" layoutPanel="panel_row2_col1">
            				<param name="field">active</param>
            				<param name="beforeLabel">Current Status: </param>
            				<param name="classField">range</param>
          				</module>
	    			</module>      
      			</module>  <!-- Search - Current Status -->  
    
	  			<module name="Search">
        			<param name="search">index=wls app=$app$ domain=* | dedup domain | rename domain as "Domain Name" | table "Domain Name"
        			</param>
        			<param name="earliest">-24h</param>
        			<param name="latest">now</param>
        
        			<module name="Pager" layoutPanel="panel_row2_col2">
          				<module name="SimpleResultsTable" layoutPanel="panel_row2_col2" group="Application is running in the following domains" >
            				<param name="displayRowNumbers">False</param>
            				<param name="entityName">results</param>
          				</module>
        			</module>
      			</module>  <!-- Search - Application is running in the following domains -->   
    
	  			<module name="Search">
        			<param name="search">index=wls app=$app$ server=* | dedup server | rename server as "Server Name" | table "Server Name"
        			</param>
        			<param name="earliest">-24h</param>
        			<param name="latest">now</param>
        			<module name="Pager" layoutPanel="panel_row2_col3">
         	 			<module name="SimpleResultsTable" layoutPanel="panel_row2_col3" group="Application is running on the following servers" >
            				<param name="displayRowNumbers">False</param>
            				<param name="entityName">results</param>
  							<param name="drilldown">row</param>          
            				<module name="Redirector">
              					<param name="url">server_overview</param>
              					<param name="arg.server">$click.fields.Server Name$</param>
              					<param name="arg.domain">$domain$</param>
            				</module>         
          				</module>
        			</module>
      			</module>  <!-- Search - Application is runningon the following servers -->       
				<!-- END Panels -->
					
    		</module>  <!-- Pulldown -->
  		</module>  <!-- Search - for dropdown -->
  	</module>  <!-- URL Loader -->
</view>